<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.ipn.metodosnumericosnvo.MenuController">
    <top>
        <HBox spacing="10.0" alignment="CENTER_LEFT">
            <padding>
                <Insets top="5.0" right="10.0" bottom="5.0" left="5.0"/>
            </padding>
            <MenuBar HBox.hgrow="ALWAYS" prefHeight="25.0" maxHeight="25.0" minHeight="25.0">
                <!-- Raíces de Ecuaciones -->
                <Menu text="Raíces de Ecuaciones">
                    <MenuItem text="Método de Bisección" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Método de Muller" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Método de la Secante" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Método de Newton" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Método de Punto Fijo" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Método de Falsa Posición" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Método de Steffensen" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Método de Bisección-Aitken" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Método de la Secante-Aitken" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Deflación" onAction="#handleMenuItemClick"/>
                </Menu>

                <!-- Derivación -->
                <Menu text="Derivación">
                    <MenuItem text="Interpolación" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Polinomio Interpolante de Lagrange" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Derivación Numérica" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Interpolación de Richardson" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Derivación para puntos desigualmente espaciados" onAction="#handleMenuItemClick"/>
                </Menu>

                <!-- Integración -->
                <Menu text="Integración">
                    <MenuItem text="Integración Numérica" onAction="#handleMenuItemClick"/>
                    <Menu text="Integración Compuesta">
                        <MenuItem text="Trapecio Compuesto" onAction="#handleMenuItemClick"/>
                        <MenuItem text="Simpson 1/3 Compuesto" onAction="#handleMenuItemClick"/>
                        <MenuItem text="Simpson 3/8 Compuesto" onAction="#handleMenuItemClick"/>
                    </Menu>
                    <Menu text="Integración Múltiple">
                        <MenuItem text="Método del Trapecio" onAction="#handleMenuItemClick"/>
                        <MenuItem text="Método de Simpson 1/3" onAction="#handleMenuItemClick"/>
                    </Menu>
                    <MenuItem text="Interpolación de Romberg" onAction="#handleMenuItemClick"/>
                    <Menu text="Método de Cuadratura Adaptiva">
                        <MenuItem text="Simpson Compuesto" onAction="#handleMenuItemClick"/>
                        <MenuItem text="Trapecio Simple" onAction="#handleMenuItemClick"/>
                    </Menu>
                </Menu>

                <!-- Ecuaciones Diferenciales -->
                <Menu text="Ecuaciones Diferenciales">
                    <MenuItem text="Método de Euler" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Método de Taylor" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Método de Runge-Kutta" onAction="#handleMenuItemClick"/>
                    <MenuItem text="Método de Heun" onAction="#handleMenuItemClick"/>
                    <MenuItem text="SEDO" onAction="#handleMenuItemClick"/>
                </Menu>

                <!-- Sistema de Ecuaciones -->
                <Menu text="Sistema de Ecuaciones">
                    <MenuItem text="Eliminación Gaussiana" onAction="#handleMenuItemClick"/>
                </Menu>
            </MenuBar>
            <HBox alignment="CENTER_RIGHT" spacing="5.0" prefWidth="250.0" prefHeight="25.0" maxHeight="25.0" minHeight="25.0">
                <Button text="Gráfica" onAction="#onGraficaButtonClick" minWidth="70" maxWidth="70" maxHeight="22.0"/>
                <Button text="Home" onAction="#onHomeButtonClick" minWidth="70" maxWidth="70" maxHeight="22.0"/>
                <Button text="Exit" onAction="#onExitButtonClick" minWidth="70" maxWidth="70" maxHeight="22.0"/>
            </HBox>
        </HBox>
    </top>

    <center>
        <StackPane alignment="CENTER">
            <VBox alignment="CENTER" spacing="20.0">
                <padding>
                    <Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/>
                </padding>
                <Label fx:id="welcomeText"/>

                <!-- Function Visualizer Section - Fixed Size and Centered -->
                <VBox alignment="CENTER" spacing="10.0" 
                      prefWidth="600" prefHeight="300" 
                      minWidth="600" minHeight="300" 
                      maxWidth="600" maxHeight="300"
                      style="-fx-border-color: #cccccc; -fx-border-radius: 5; -fx-padding: 15;">
                    <Label text="Visualizador de Funciones" style="-fx-font-size: 16; -fx-font-weight: bold;"/>

                    <HBox alignment="CENTER" spacing="10.0">
                        <Label text="Función:" />
                        <TextField fx:id="functionTextField" prefWidth="300" promptText="Ingrese una función (ej: x^2 + 2*x + 1)" 
                                  onAction="#onFunctionEntered"/>
                        <Button text="Visualizar" onAction="#onVisualizeFunctionClick"/>
                    </HBox>

                    <!-- Function Display Area - Fixed Size -->
                    <Pane fx:id="functionDisplayPane" 
                          prefHeight="150" prefWidth="500" 
                          minHeight="150" minWidth="500"
                          maxHeight="150" maxWidth="500"
                          style="-fx-background-color: white; -fx-border-color: #dddddd; -fx-border-radius: 3;"/>

                    <Label fx:id="functionErrorLabel" textFill="RED" visible="false"/>

                    <!-- Math Operation Buttons - Row 1 -->
                    <HBox alignment="CENTER" spacing="5.0">
                        <Button text="x^n" onAction="#onPowerButtonClick" prefWidth="60"/>
                        <Button text="√x" onAction="#onSqrtButtonClick" prefWidth="60"/>
                        <Button text="∛x" onAction="#onCbrtButtonClick" prefWidth="60"/>
                        <Button text="ⁿ√x" onAction="#onNthRootButtonClick" prefWidth="60"/>
                        <Button text="sin" onAction="#onSinButtonClick" prefWidth="60"/>
                        <Button text="cos" onAction="#onCosButtonClick" prefWidth="60"/>
                        <Button text="tan" onAction="#onTanButtonClick" prefWidth="60"/>
                    </HBox>

                    <!-- Math Operation Buttons - Row 2 -->
                    <HBox alignment="CENTER" spacing="5.0">
                        <Button text="a/b" onAction="#onFractionButtonClick" prefWidth="60"/>
                        <Button text="π" onAction="#onPiButtonClick" prefWidth="60"/>
                        <Button text="(" onAction="#onLeftParenButtonClick" prefWidth="60"/>
                        <Button text=")" onAction="#onRightParenButtonClick" prefWidth="60"/>
                        <Button text="log" onAction="#onLogButtonClick" prefWidth="60"/>
                        <Button text="ln" onAction="#onLnButtonClick" prefWidth="60"/>
                        <Button text="e^x" onAction="#onExpButtonClick" prefWidth="60"/>
                    </HBox>
                </VBox>
            </VBox>
        </StackPane>
    </center>
</BorderPane>
